<!DOCTYPE html>
<html lang="en">
{% include 'head.html' %}
<body>
{% include 'nav.html' %}

<div class="container">
<div class="row">
<div class="col s12 m6">
  <ul class="collapsible popout">
    <li>
      <div class="collapsible-header"><i class="material-icons">filter_drama</i> Temperature <span class="center"> 23 C </span> </div>
      <div class="collapsible-body"> <div id="viz1"></div> </div>
    </li>
    <li>
      <div class="collapsible-header"><i class="material-icons">place</i> Humidity </div>
      <div class="collapsible-body"><span>Lorem ipsum dolor sit amet.</span></div>
    </li>
    <li>
      <div class="collapsible-header"><i class="material-icons">whatshot</i> Indoor Air Quality </div>
      <div class="collapsible-body"><span>Lorem ipsum dolor sit amet.</span></div>
    </li>
  </ul>
</div>
</div>
</div>



<script>
var viz1 = new LineChart();
viz1.init();

var url = 'http://' + document.domain + ':' + location.port + '/message';
console.log(url);
var socket = io.connect(url);

socket.on('status', function(msg) {
  console.log(msg.data);
});

socket.on('update', function(msg) {
  viz1.update(msg.data);
});


var elem = document.querySelector('.collapsible.popout');
var instance = M.Collapsible.init(elem, {
  accordion: false
});
        
</script>




</body>
</html>

