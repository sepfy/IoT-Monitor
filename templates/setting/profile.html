<!DOCTYPE html>
<html lang="en">
{% include 'head.html' %}
<body>
{% include 'nav.html' %}

<div class="container">
<div class="row">
  <div class="col s12 l3">
    <h4> </h4>
    {% include 'setting/side.html' %}
  </div>

  <div class="col s12 l9">
    <h4>Change Password</h4>
    <form action="/setting" method="POST">
      {{ form.csrf_token }}
      <input name="username" value="{{current_user.id}}" style="display:none">
      <div class="row">
        <div class="input-field col s12">
          <input id="password1" name="password1" type="password" class="validate" onkeyup="check();">
          <label for="password1"> {{form.password1.label}} </label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <input id="password2" name="password2" type="password" class="validate" onkeyup="check();">
          <label for="password2"> {{form.password2.label}} </label>
        </div>
      </div>
      <p class="red-text" id="message"></p>
      <button class="btn teal accent-4" type="submit"> Submit </button>

    </form>
  </div>
</div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    var elems = document.querySelectorAll('.modal');
    var instances = M.Modal.init(elems, {});
  });

  var check = function() {
  if (document.getElementById('password1').value ==
    document.getElementById('password2').value) {
    document.getElementById('message').style.color = 'green';
    document.getElementById('message').innerHTML = 'matching';
  } else {
    document.getElementById('message').style.color = 'red';
    document.getElementById('message').innerHTML = 'not matching';
  }
}


</script>
</body>
